<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <title>Error</title>
</head>
<body>
<section layout:fragment="content">
  <div class="container text-center">
    <h1 class="display-1 text-danger"><i class="bi bi-exclamation-triangle-fill"></i></h1>
    <h2 th:text="${status ?: 'Error'}">Código de Error</h2>
    <h3 th:text="${error ?: 'Ha ocurrido un problema'}">Tipo de Error</h3>
    <p th:text="${message ?: 'Lo sentimos, algo salió mal.'}">Mensaje detallado del error.</p>
    <p th:if="${trace}" class="text-start small text-muted" style="white-space: pre-wrap;">
      <strong>Trace:</strong><br/>
      <span th:text="${trace}">Stack trace aquí...</span>
    </p>
    <a th:href="@{/home}" class="btn btn-primary mt-3"><i class="bi bi-house-door"></i> Volver al Inicio</a>
    <!-- Puedes añadir un botón para ir atrás -->
    <button onclick="window.history.back();" class="btn btn-secondary mt-3"><i class="bi bi-arrow-left"></i> Volver Atrás</button>
  </div>

  <!--
      Nota: Por defecto, Spring Boot mapea errores a /error.
      Puedes configurar un ErrorController personalizado para pasar más detalles
      (status, error, message, trace - deshabilitado en prod) a esta vista.
      O puedes usar @ControllerAdvice con @ExceptionHandler para redirigir aquí
      con atributos específicos en el modelo.
      La variable 'errorMessage' es la que usamos para mensajes flash personalizados.
  -->
  <div th:if="${errorMessage}" class="alert alert-warning mt-4" role="alert">
    <strong>Información adicional:</strong> <span th:text="${errorMessage}"></span>
  </div>

</section>
</body>
</html>